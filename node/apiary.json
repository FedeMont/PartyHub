{"openapi":"3.0.0","info":{"title":"PartyHub APIs","version":"1.0.0"},"servers":[{"url":"http://federicomontagna.ddns.net:3000"}],"components":{"securitySchemes":{"bearerAuth":{"type":"apiKey","scheme":"bearer","bearerFormat":"JWT","name":"authorization","in":"header"}},"responses":{"NoToken":{"description":"No token, unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code401"}}}},"ForbiddenError":{"description":"Non ti è permesso effettuare questa operazione.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code403"}}}},"MissingParameters":{"description":"Parametri richiesti mancanti.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code422"}}}},"ServerError":{"description":"Errore nella ricerca di ...","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}},"schemas":{"Code200":{"description":"OK","type":"object","properties":{"status":{"type":"integer","description":"Http status.","example":200},"message":{"type":"string","description":"Messaggio."}}},"Code401":{"description":"Unauthorized","type":"object","properties":{"status":{"type":"integer","description":"Http status.","example":401},"message":{"type":"string","description":"Messaggio."}}},"Code403":{"description":"Forbidden","type":"object","properties":{"status":{"type":"integer","description":"Http status.","example":403},"message":{"type":"string","description":"Messaggio."}}},"Code409":{"description":"Conflict","type":"object","properties":{"status":{"type":"integer","description":"Http status.","example":409},"message":{"type":"string","description":"Messaggio."}}},"Code422":{"description":"Unprocessable Entity","type":"object","properties":{"status":{"type":"integer","description":"Http status.","example":422},"message":{"type":"string","description":"Messaggio."}}},"Code500":{"description":"Internal Server Error","type":"object","properties":{"status":{"type":"integer","description":"Http status.","example":500},"message":{"type":"string","description":"Messaggio."}}},"User":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'utente","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Il nome dell'utente","example":"Nome"},"surname":{"type":"string","description":"Il cognome dell'utente","example":"Cognome"},"username":{"type":"string","description":"Il nome utente dell'utente","example":"username"},"email":{"type":"string","format":"email","description":"La e-mail dell'utente","example":"nome.cognome@mail.com"},"password":{"type":"string","format":"password","description":"La password dell'utente","example":"Cognome"},"account_type":{"type":"string","description":"Il tipo di account dell'utente","example":"up"},"birthday":{"type":"string","format":"date","description":"Data di nascita dell'utente","example":"2000-05-21T00:00:00.000Z"},"description":{"type":"string","description":"La descrizione dell'utente","example":"descrizione"}}},"Geoposition":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitudine dell'evento","example":"46.0670758"},"longitude":{"type":"string","description":"Longitudine dell'evento","example":"11.1502498"},"type":{"type":"string","description":"Tipo di geoposition data","example":"address"},"name":{"type":"string","description":"Via e numero civico dell'evento","example":"Via Sommarive 5"},"number":{"type":"string","description":"Numero civico dell'evento","example":"5"},"postal_code":{"type":"string","description":"CAP dell'evento","example":"38123"},"street":{"type":"string","description":"Via dell'evento","example":"Via Sommarive"},"confidence":{"type":"integer","description":"Confidence sulla risposta","example":1},"region":{"type":"string","description":"Provincia dell'evento","example":"Trento"},"region_code":{"type":"string","description":"Sigla provincia dell'evento","example":"TN"},"county":{"type":"string","description":"","example":null},"locality":{"type":"string","description":"Comune dell'evento","example":"Povo"},"administrative_area":{"type":"string","description":"Provincia dell'evento","example":"Trento"},"neighbourhood":{"type":"string","description":"","example":null},"country":{"type":"string","description":"Paese dell'evento","example":"Italy"},"country_code":{"type":"string","description":"Sigla Paese dell'evento","example":"ITA"},"continent":{"type":"string","description":"Continente dell'evento","example":"Europe"},"label":{"type":"string","description":"Via, Numero civico, Comune, Sigla Provincia, Paese dell'evento","example":"Via Sommarive 5, Povo, TN, Italy"}}},"Event":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'evento","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Il nome dell'evento","example":"Nome"},"address":{"$ref":"#/components/schemas/Geoposition"},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio evento","example":"2022-05-29T15:30:00.000Z"},"end_datetime":{"type":"string","format":"date","description":"Data e ora di fine evento","example":"2022-05-29T23:30:00.000Z"},"age_range_min":{"type":"integer","description":"Età minima","example":18},"age_range_max":{"type":"integer","description":"Età massima","example":38},"partecipants_list":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"maximum_partecipants":{"type":"integer","description":"Numero massimo di partecipanti","example":1000},"description":{"type":"string","description":"Descrizione dell'evento","example":"Descrizione"},"number_of_photos":{"type":"integer","description":"Numero di foto presenti","example":10},"owner":{"$ref":"#/components/schemas/User"}}},"Product":{"type":"object","properties":{"name":{"type":"string","description":"Il nome del prodotto","example":"Nome prodotto"},"price":{"type":"integer","description":"Prezzo prodotto","example":5}}},"Service":{"type":"object","properties":{"_id":{"type":"string","description":"Id del servizio","example":"6288ec25fe5bb453c76a62fa"},"owner":{"$ref":"#/components/schemas/User"},"name":{"type":"string","description":"Il nome del servizio","example":"Nome servizio"},"number_of_products":{"type":"integer","description":"Numero di prodotti presenti","example":10},"products_list":{"type":"array","items":{"$ref":"#/components/schemas/Product"}}}},"Biglietto":{"type":"object","properties":{"_id":{"type":"string","description":"Id del servizio","example":"6288ec25fe5bb453c76a62fa"},"event":{"$ref":"#/components/schemas/Event"},"entrance_datetime":{"type":"string","format":"date","description":"Data e ora di ingresso all'evento","example":"2022-05-29T15:30:00.000Z"},"exit_datetime":{"type":"string","format":"date","description":"Data e ora di uscita dall'evento","example":"2022-05-29T23:30:00.000Z"},"number_of_products":{"type":"integer","description":"Numero di prodotti acquistati durante l'evento","example":3},"total_price":{"type":"integer","description":"Prezzo totale dei prodotti acquistati","example":17.5},"products_list":{"type":"array","items":{"$ref":"#/components/schemas/Product"}}}}}},"paths":{"/api/auth/check_availability":{"get":{"summary":"Ritorna la disponibilità di username & email","parameters":[{"name":"username","in":"query","required":true,"description":"Username da ricercare"},{"name":"email","in":"query","required":true,"description":"E-mail da ricercare","format":"email"}],"responses":{"200":{"description":"Username e email disponibili.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code200"}}}},"401":{"$ref":"#/components/responses/NoToken"},"409":{"description":"Username o email già presenti nel database.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code409"}}}},"422":{"$ref":"#/components/responses/MissingParameters"},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}},"/api/auth/signin":{"post":{"summary":"Creazione account","description":"Dati i dati dell'utente, il sistema inserisce il nuovo utente","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Nome dell'utente"},"surname":{"type":"string","description":"Cognome dell'utente"},"username":{"type":"string","description":"Nome utente dell'utente"},"email":{"type":"string","format":"email","description":"E-mail dell'utente"},"birthday":{"type":"string","format":"date","description":"Data di nascita dell'utente"},"description":{"type":"string","description":"Descrizione dell'utente"},"user_profile":{"type":"string","description":"Foto profilo dell'utente"},"password":{"type":"string","format":"password","description":"Password dell'utente"}}}}}},"responses":{"200":{"description":"Registrazione avvenuta con successo.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code200"}}}},"409":{"description":"Errore nella registrazione.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code409"}}}},"422":{"$ref":"#/components/responses/MissingParameters"},"500":{"description":"Errore nella generazione dell'hash della password.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}},"/api/auth/login":{"post":{"summary":"Login","produces":["application/json"],"description":"Dati username e password il sistema verifica la corrispondenza della password salvata sul database e genera il token in caso di match","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username_email":{"type":"string","description":"Username o email dell'utente"},"password":{"type":"string","format":"password","description":"Password dell'utente"}}}}}},"responses":{"200":{"description":"Login avvenuto con successo.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"messaggio.","example":"Login avvenuto con successo."},"token":{"type":"string","description":"token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}}}},"401":{"description":"Username o password errate.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code401"}}}},"422":{"$ref":"#/components/responses/MissingParameters"},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}},"/api/auth/get_user_info":{"get":{"summary":"User info","description":"Ritorna le informazioni dell'utente loggato","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Token valido.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'utente.","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Il nome dell'utente.","example":"Nome"},"surnname":{"type":"string","description":"Il cognome dell'utente.","example":"Cognome"},"birthday":{"type":"string","format":"date","description":"Data di nascita dell'utente","example":"2000-05-21T00:00:00.000Z"}}}}}}}},"401":{"$ref":"#/components/responses/NoToken"},"500":{"description":"Errore nella ricerca dell'utente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}},"/api/auth/validate_token":{"get":{"summary":"Validate token","description":"Ritorna le informazioni dell'utente loggato","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Token valido.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"Tipo account","example":"up"}}}}}},"401":{"$ref":"#/components/responses/NoToken"}}}},"/api/biglietto/get_biglietti_futuri_by_user":{"get":{"summary":"Ritorna i biglietti per gli eventi futuri","description":"Restituisce la lista dei biglietti per gli eventi futuri dell'utente loggato","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Biglietti futuri.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"object","properties":{"biglietto_id":{"type":"string","description":"Id del biglietto.","example":"6288ec25fe5bb453c76a62fa"},"evento_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"event_name":{"type":"string","description":"Nome dell'evento.","example":"AlterEgo"},"event_start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio dell'evento.","example":"2000-05-21T00:00:00.000Z"}}}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/biglietto/get_biglietti_scaduti_by_user":{"get":{"summary":"Ritorna i biglietti per gli eventi scaduti","description":"Restituisce la lista dei biglietti per gli eventi scaduti dell'utente loggato","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Biglietti scaduti.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"object","properties":{"biglietto_id":{"type":"string","description":"Id del biglietto.","example":"6288ec25fe5bb453c76a62fa"},"evento_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"event_name":{"type":"string","description":"Nome dell'evento.","example":"AlterEgo"},"event_start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio dell'evento.","example":"2000-05-21T00:00:00.000Z"}}}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/biglietto/activate":{"post":{"summary":"Attiva il biglietto","description":"Dato l'id del biglietto e dell'evento associato al biglietto, viene attivato il biglietto","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"biglietto_id":{"type":"string","description":"Id del biglietto da attivare"},"event_id":{"type":"string","description":"Id dell'evento cllegato al biglietto da attivare"}}}}}},"responses":{"200":{"description":"Biglietto attivato.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"object","properties":{"_id":{"type":"string","description":"Id del biglietto.","example":"6288ec25fe5bb453c76a62fa"},"event":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Nome dell'evento","example":"AlterEgo"},"address":{"type":"object","properties":{"label":{"type":"string","description":"Nome completo dell'indirizzo","example":"Via Sommarive 5, Povo, TN, Italia"},"locality":{"type":"string","description":"Nome completo del comune","example":"Povo"},"region":{"type":"string","description":"Nome completo della provincia","example":"Trento"}}},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio all'evento.","example":"2000-05-21T00:00:00.000Z"},"end_datetime":{"type":"string","format":"date","description":"Data e ora di fine dall'evento.","example":"2000-05-21T00:00:00.000Z"},"description":{"type":"string","description":"Descrizione dell'evento","example":"Descrizione"}}},"number_of_products":{"type":"integer","description":"Numero di prodotti acquistati durante l'evento.","example":0},"total_price":{"type":"integer","description":"Prezzo totale dei prodotti acquistati","example":0},"products_list":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome del prodotto","example":""},"price":{"type":"integer","description":"Prezzo del prodotto","example":0}}}}}}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"409":{"description":"Errore nell'attivazione del biglietto.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Errore nell'attivazione del biglietto."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/biglietto/get_products":{"get":{"summary":"Prodotti acquistati durante l'evento","description":"Dato l'id del biglietto ritorna la lista dei prodotti acquistati durante l'evento","security":[{"bearerAuth":[]}],"parameters":[{"name":"biglietto_id","in":"query","required":true,"description":"Id del biglietto"}],"responses":{"200":{"description":"Biglietto.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"$ref":"#/components/schemas/Biglietto","type":"object","properties":{"_id":{"type":"string","description":"Id del biglietto.","example":"6288ec25fe5bb453c76a62fa"},"event":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Nome dell'evento","example":"AlterEgo"},"address":{"type":"object","properties":{"label":{"type":"string","description":"Nome completo dell'indirizzo","example":"Via Sommarive 5, Povo, TN, Italia"},"locality":{"type":"string","description":"Nome completo del comune","example":"Povo"},"region":{"type":"string","description":"Nome completo della provincia","example":"Trento"}}},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio all'evento.","example":"2000-05-21T00:00:00.000Z"},"end_datetime":{"type":"string","format":"date","description":"Data e ora di fine dall'evento.","example":"2000-05-21T00:00:00.000Z"},"description":{"type":"string","description":"Descrizione dell'evento","example":"Descrizione"}}},"number_of_products":{"type":"integer","description":"Numero di prodotti acquistati durante l'evento.","example":3},"total_price":{"type":"integer","description":"Prezzo totale dei prodotti acquistati","example":23.5},"products_list":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome del prodotto","example":"Ingresso 10:30"},"price":{"type":"integer","description":"Prezzo del prodotto","example":10}}}},"entrance_datetime":{"type":"string","format":"date","description":"Data e ora di ingresso all'evento","example":"2000-05-21T00:00:00.000Z"}}}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/dipendente/crea":{"post":{"summary":"Creazione dipendente","description":"Dati i dati del dipendente, dei servizi e degli eventi inseriti dall'utente, il sistema inserisce il nuovo utente dipendente e manda una mail","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Nome del dipendente"},"surname":{"type":"string","description":"Cognome del dipendente"},"email":{"type":"string","format":"email","description":"E-mail del dipendente"},"events_list":{"type":"array","items":{"type":"string"},"description":"Lista degli id degli eventi in cui il dipendente dovrà lavorare"},"services_list":{"type":"array","items":{"type":"string"},"description":"Lista degli id dei servizi assegnati al dipendente"}}}}}},"responses":{"200":{"description":"Registrazione avvenuta con successo.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"messaggio.","example":"Registrazione avvenuta con successo."}}}}}},"401":{"$ref":"#/components/responses/NoToken"},"409":{"description":"Errore nella registrazione del dipendente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Errore nella registrazione del dipendente."}}}}}},"500":{"description":"Errore nella generazione dell'hash della password.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella generazione dell'hash della password."}}}}}}}}},"/api/dipendente/activate_turno":{"post":{"summary":"Attivazione turno dipendente","description":"Dato l'id di un evento legato all'utente viene attivato il turno per quell'evento","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"event_id":{"type":"string","description":"Id dell'evento di cui attivare il turno"}}}}}},"responses":{"200":{"description":"Turno attivato.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"messaggio.","example":"Turno attivato."}}}}}},"401":{"description":"Non ti è possibile attivare il turno per questo evento.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Non ti è possibile attivare il turno per questo evento."}}}}}},"409":{"description":"Errore nell'attivazione del turno.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Errore nell'attivazione del turno."}}}}}},"500":{"description":"Errore nell'attivazione del turno.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nell'attivazione del turno."}}}}}}}}},"/api/event/crea":{"post":{"summary":"Creazione evento","description":"Dati i dati dell'evento inseriti dall'utente, il sistema inserisce il nuovo evento","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Nome dell'evento"},"address":{"type":"string","description":"Indirizzo dell'evento"},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio dell'evento"},"end_datetime":{"type":"string","format":"date","description":"Data e ora di fine dell'evento"},"age_range":{"type":"string","description":"Range di età a cui è consentito l'ingresso all'evento"},"maximum_partecipants":{"type":"integer","description":"Numero massimo di persone a cui è consentito l'ingresso all'evento"}}}}}},"responses":{"200":{"description":"Evento creato correttamente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"messaggio.","example":"Evento creato correttamente."}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"409":{"description":"Errore nella creazione dell'evento.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":409},"message":{"type":"string","description":"messaggio.","example":"Errore nella creazione dell'evento."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/event/iscrizione":{"post":{"summary":"Iscrizione evento","description":"Dato l'id dell'evento desiderato, il sistema iscrive l'utente loggato all'evento","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"event_id":{"type":"string","description":"Id dell'evento a cui l'utente vuole iscriversi"}}}}}},"responses":{"200":{"description":"Utente iscritto all'evento correttamente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"messaggio.","example":"Utente iscritto all'evento correttamente."}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"409":{"description":"Errore nella creazione del biglietto.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":409},"message":{"type":"string","description":"messaggio.","example":"Errore nella creazione del biglietto."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/event/disiscrizione":{"post":{"summary":"Disiscrizione evento","description":"Dato l'id dell'evento desiderato, il sistema annulla l'iscrizione dell'utente loggato all'evento","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"event_id":{"type":"string","description":"Id dell'evento a cui l'utente vuole disiscriversi"}}}}}},"responses":{"200":{"description":"Disiscrizione effettuata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"messaggio.","example":"Disiscrizione effettuata."}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"409":{"description":"Errore nell'eliminazione del biglietto.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":409},"message":{"type":"string","description":"messaggio.","example":"Errore nell'eliminazione del biglietto."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/service/crea":{"post":{"summary":"Crea servizio","description":"Dati i dati del servizio e dei prodotti il sistema crea il nuovo servizio","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"Nome del servizio"},"products":{"type":"array","items":{"name":{"type":"string","description":"Nome del prodotto"},"price":{"type":"integer","description":"Prezzo del prodotto"}}}}}}}},"responses":{"200":{"description":"Servizio creato correttamente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"messaggio.","example":"Servizio creato correttamente."}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"409":{"description":"Errore nella creazione del servizio.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Errore nella creazione del servizio."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/service/get_servizi":{"get":{"summary":"Ritorna i servizi","description":"Restituisce i servizi dell'utente loggato","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Servizi.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","description":"Id del servizo.","example":"6288ec25fe5bb453c76a62fa"},"owner":{"type":"string","description":"Id del proprietario del servizio (eg. l'utente loggato).","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Nome del servizo.","example":"6288ec25fe5bb453c76a62fa"},"number_of_products":{"type":"integer","description":"Numero di prodotti all'interno del servizio.","example":3},"products_list":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome del prodotto","example":"Long Island"},"price":{"type":"integer","description":"Prezzo del prodotto","example":7}}}}}}}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di utente."}}}}}}}}},"/api/service/sell_products":{"post":{"summary":"Vendita prodotti","description":"Dati l'id di un biglietto e la lista degli id dei prodotti il sistema accredita i prodotti al biglietto","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"biglietto_id":{"type":"string","description":"Id del biglietto."},"products_list":{"type":"array","items":{"type":"string","description":"Id del prodotto"}}}}}}},"responses":{"200":{"description":"Servizi.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"string","description":"messaggio.","example":"Prodotti accreditati."}}}}}},"401":{"description":"Token email errata.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Token email errata."}}}}}},"409":{"description":"Errore nell'aggiornamento del biglietto.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":401},"message":{"type":"string","description":"messaggio.","example":"Errore nell'aggiornamento del biglietto."}}}}}},"500":{"description":"Errore nella ricerca di biglietto.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":500},"message":{"type":"string","description":"messaggio.","example":"Errore nella ricerca di biglietto."}}}}}}}}},"/api/event/get/events":{"get":{"summary":"Ritorna gli eventi vicini","description":"Restituisce la lista degli eventi nella stessa località dell'utente loggato","security":[{"bearerAuth":[]}],"parameters":[{"name":"latitude","in":"query","required":true,"description":"Latitudine dell'utente"},{"name":"longitude","in":"query","required":true,"description":"Longitudine dell'utente"}],"responses":{"200":{"description":"Eventi vicini.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Nome dell'evento.","example":"AlterEgo"},"address":{"type":"object","properties":{"locality":{"type":"string","description":"Comune dell'evento","example":"Povo"},"region":{"type":"string","description":"Provincia dell'evento","example":"Trento"}}},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio dell'evento.","example":"2000-05-21T00:00:00.000Z"},"number_of_partecipants":{"type":"integer","description":"Numero di partecipenti.","example":100},"description":{"type":"string","description":"Descrizione dell'evento.","example":"Descrizione"},"is_user_iscritto":{"type":"boolean","description":"Se l'utente loggato è iscritto all'evento.","example":true}}}}}}}}},"401":{"$ref":"#/components/responses/NoToken"},"409":{"description":"Nessun utente trovato.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":409},"message":{"type":"string","description":"messaggio.","example":"Nessun utente trovato."}}}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}},"/api/event/get/by_address":{"get":{"summary":"Ritorna gli eventi vicini all'inidirizzo indicato","description":"Restituisce la lista degli eventi nella stessa località dell'indirizzo indicato dall'utente","security":[{"bearerAuth":[]}],"parameters":[{"name":"address","in":"query","required":true,"description":"Indirizzo dell'evento da cercare"}],"responses":{"200":{"description":"Eventi vicini.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Nome dell'evento.","example":"AlterEgo"},"address":{"type":"object","properties":{"locality":{"type":"string","description":"Comune dell'evento","example":"Povo"},"region":{"type":"string","description":"Provincia dell'evento","example":"Trento"}}},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio dell'evento.","example":"2000-05-21T00:00:00.000Z"},"number_of_partecipants":{"type":"integer","description":"Numero di partecipenti.","example":100},"description":{"type":"string","description":"Descrizione dell'evento.","example":"Descrizione"},"is_user_iscritto":{"type":"boolean","description":"Se l'utente loggato è iscritto all'evento.","example":true}}}}}}}}},"401":{"$ref":"#/components/responses/NoToken"},"403":{"$ref":"#/components/responses/ForbiddenError"},"409":{"description":"Errore nella richiesta a PositionStackAPI.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code409"}}}},"500":{"description":"Errore nella ricerca di eventi.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}},"/api/event/get/by_id":{"get":{"summary":"Ritorna le informazioni di un evento","description":"Restituisce le informazioni dell'evento con id indicato","security":[{"bearerAuth":[]}],"parameters":[{"name":"event_id","in":"query","required":true,"description":"Id dell'evento da cercare"}],"responses":{"200":{"description":"Evento.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Nome dell'evento.","example":"AlterEgo"},"address":{"$ref":"#/components/schemas/Geoposition"},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio dell'evento.","example":"2000-05-21T00:00:00.000Z"},"number_of_partecipants":{"type":"integer","description":"Numero di partecipenti.","example":100},"description":{"type":"string","description":"Descrizione dell'evento.","example":"Descrizione"},"is_user_iscritto":{"type":"boolean","description":"Se l'utente loggato è iscritto all'evento.","example":true}}}}}}}}},"401":{"$ref":"#/components/responses/NoToken"},"403":{"$ref":"#/components/responses/ForbiddenError"},"409":{"description":"Nessun evento trovato.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code409"}}}},"500":{"description":"Errore nella ricerca di eventi.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}},"/api/event/get/by_user":{"get":{"summary":"Ritorna gli eventi dell'utente loggato","description":"Restituisce la lista degli eventi creati dall'utente loggato","security":[{"bearerAuth":[]}],"parameters":[{"name":"event_id","in":"query","required":true,"description":"Id dell'evento da cercare"}],"responses":{"200":{"description":"Eventi.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Nome dell'evento.","example":"AlterEgo"},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio dell'evento.","example":"2000-05-21T00:00:00.000Z"}}}}}}}}},"401":{"$ref":"#/components/responses/NoToken"},"409":{"description":"Nessun evento trovato.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code409"}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}},"/api/event/get/by_biglietto_id":{"get":{"summary":"Ritorna le informazioni dell'evento collegato al biglietto","description":"Restituisce le informazioni dell'evento collegato al biglietto indicato","security":[{"bearerAuth":[]}],"parameters":[{"name":"biglietto_id","in":"query","required":true,"description":"Id del biglietto di cui cercare le informazioni dell'evento"}],"responses":{"200":{"description":"Evento.","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"integer","description":"http status.","example":200},"message":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","description":"Id dell'evento.","example":"6288ec25fe5bb453c76a62fa"},"name":{"type":"string","description":"Nome dell'evento.","example":"AlterEgo"},"start_datetime":{"type":"string","format":"date","description":"Data e ora di inizio dell'evento.","example":"2000-05-21T00:00:00.000Z"},"biglietto_active":{"type":"boolean","description":"Se il biglietto è attivo","example":true}}}}}}}}},"401":{"$ref":"#/components/responses/NoToken"},"409":{"description":"Nessun evento trovato.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code409"}}}},"500":{"description":"Errore nella ricerca di utente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Code500"}}}}}}}},"tags":[]}